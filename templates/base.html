
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Brain Flow – Fórum{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    <!-- Header -->
    <header class="nav">
        <div class="wrap">
            <div class="brand">
                <img src="{{ url_for('static', filename='images/logo_branco.svg') }}" width="128" height="128" alt="Brain Flow">
            </div>
            <nav class="menu">
                <a href="{{ url_for('index') }}">Home</a>
                <a href="{{ url_for('cursos') }}">Cursos</a>
                {% if usuario %}
                    <div class="user-dropdown">
                                                <button class="user-btn" onclick="toggleUserMenu(event)" style="display:flex;align-items:center;gap:10px;">
                                                    <span>Bem-vindo, {% if usuario['nome'] is defined %}{{ usuario['nome'] }}{% else %}{{ usuario }}{% endif %}</span>
                                                    <img src="{{ usuario['foto'] if usuario and usuario['foto'] else url_for('static', filename='images/perfil_padrao.svg') }}" alt="Foto de perfil" style="width:32px;height:32px;border-radius:50%;background:#fff2c7;object-fit:cover;box-shadow:0 1px 4px #0001;">
                                                </button>
                        <div class="user-menu" id="userMenu">
                            <a href="{{ url_for('perfil') }}">Perfil</a>
                            <a href="{{ url_for('configuracoes') }}">Configurações</a>
                            <a href="#">Dashboard</a>
                            <a href="#">Meus Cursos</a>
                            {% if usuario['email'] == 'edersonluan@exemplo.com' %}
                            <a href="{{ url_for('pagina_administrador') }}">Administrador</a>
                            {% endif %}
                            <a href="{{ url_for('logout') }}">Sair</a>
                        </div>
                    </div>
                {% else %}
                    <a href="{{ url_for('login') }}">Login</a>
                    <a class="signup" href="{{ url_for('cadastro') }}">Cadastro</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <main class="page">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer padrão -->
    <footer class="footer">
        <div class="wrap footer-inner" style="display:flex; align-items:center; justify-content:space-between; min-height:56px;">
            <span style="font-weight:800; font-size:1.1rem; letter-spacing:.5px;">© Brain Flow</span>
            <nav class="footer-nav" style="display:flex; gap:18px;">
                <a href="#">Sobre</a>
                <a href="#">Suporte</a>
                <a href="#">Termos</a>
            </nav>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='header-scroll.js') }}"></script>
    <script>
    function toggleUserMenu(event) {
        event.stopPropagation();
        var dropdown = event.target.closest('.user-dropdown');
        dropdown.classList.toggle('open');
    }
    document.addEventListener('click', function(e) {
        document.querySelectorAll('.user-dropdown.open').forEach(function(drop) {
            drop.classList.remove('open');
        });
    });
    </script>
<script>
function setDarkMode(active) {
    if(active) {
        document.body.classList.add('darkmode');
    } else {
        document.body.classList.remove('darkmode');
    }
    localStorage.setItem('darkmode', active ? '1' : '0');
}
window.addEventListener('DOMContentLoaded', function() {
    if(localStorage.getItem('darkmode') === '1') setDarkMode(true);
});
</script>
<style>
body.darkmode {
    background: #101c2c !important;
    color: #e2eafc !important;
}
body.darkmode .card, body.darkmode .admin-content.card {
    background: #0a141eff !important;
    color: #fff !important;
    box-shadow: 0 2px 12px rgba(0,0,0,0.18);
}
body.darkmode header.nav {
    background: #0a141eff !important;
    color: #fff !important;
}
body.darkmode .menu a, body.darkmode .footer-nav a {
    color: #285178ff !important;
}
body.darkmode .footer {
    background: #0a141eff !important;
    color: #fff !important;
}
body.darkmode .section-title, body.darkmode h1, body.darkmode h2, body.darkmode h3 {
    color: #fff !important;
    body.darkmode .user-btn span {
        color: #285178ff !important;
    }
    body.darkmode .user-btn {
        color: #285178ff !important;
    }
}
</style>
</body>
</html>

